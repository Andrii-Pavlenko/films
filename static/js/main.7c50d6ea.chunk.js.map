{"version":3,"sources":["components/FilmList/FilmList.js","components/AddFilmsForm/AddFilmsForm.js","api/getApi.js","components/showInfo/showInfo.js","components/Header/Header.js","App.js","index.js"],"names":["FilmList","films","removeFilm","getFilmToShow","filterToShow","actualFilm","className","map","film","key","id","title","Button","onClick","style","backgroundColor","Icon","name","to","AddFilmForm","addFilm","useState","setTitle","year","setYear","format","setFormat","stars","setStars","image","setImage","onSubmit","event","preventDefault","Input","type","value","onChange","target","placeholder","split","FILM_URL","process","getFilms","a","fetch","response","json","method","headers","body","JSON","stringify","filmId","ShowInfo","join","Header","sortFilms","setForFilter","filter","resetList","e","App","state","forFilter","getApi","refreshFilms","setState","prevState","sort","b","localeCompare","toLowerCase","toState","item","includes","this","exact","path","React","PureComponent","ReactDOM","render","url","document","getElementById"],"mappings":"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","file":"static/js/main.7c50d6ea.chunk.js","sourcesContent":["import React from 'react';\nimport { Button, Icon } from 'semantic-ui-react';\nimport {NavLink, Switch} from \"react-router-dom\";\nimport './FilmList.scss';\n\nexport const FilmList = ({ films, removeFilm, getFilmToShow, actualFilm, filterToShow }) => {\n  return (\n    <Switch>\n      <div className=\"list\">\n        <ul className=\"list__list\">\n          {(!filterToShow ? films : filterToShow).map(film => (\n            <li key={film.id} className=\"list__film overlay blue\">\n              <label title={film.id} className=\"list__title\">\n                {film.title}\n              </label>\n              <div className=\"list__button\">\n                <Button\n                  onClick={() => removeFilm(film.id)}\n                  className=\"list__button-delete delete\"\n                  style={{backgroundColor: 'transparent'}}\n                >\n                  <Icon name=\"trash\" />\n                </Button>\n                <NavLink to=\"/info\">\n                  <Button\n                    onClick={() => getFilmToShow(film)}\n                    className=\"form__button-info info\"\n                    style={{backgroundColor: 'transparent'}}\n                  >\n                    <Icon name=\"info circle\" />\n                  </Button>\n                </NavLink>\n              </div>\n            </li>\n          ))}\n        </ul>\n\n      </div>\n    </Switch>\n  );\n}\n","import React, { useState } from 'react';\nimport { Button, Input } from 'semantic-ui-react';\nimport './AddFilmsForm.scss';\n\nexport const AddFilmForm = ({ addFilm }) => {\n\n  const [title, setTitle] = useState('');\n  const [year, setYear] = useState('');\n  const [format, setFormat] = useState('');\n  const [stars, setStars] = useState([]);\n  const [image, setImage] = useState('');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (!title) {\n      return;\n    }\n\n    addFilm(title, year, format, stars, image);\n    setTitle('');\n    setYear('');\n    setFormat('');\n    setStars([]);\n    setImage('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"form\">\n      <label>\n        <div className=\"ui label\">\n          Title:\n        </div>\n        <Input\n          type=\"text\"\n          value={title}\n          onChange={event => setTitle(event.target.value)}\n          className=\"form__input\"\n          placeholder=\"Set film title!\"\n        />\n      </label>\n\n      <label>\n        <div className=\"ui label\">\n          Year:\n        </div>\n        <Input\n          type=\"text\"\n          value={year}\n          onChange={event => setYear(event.target.value)}\n          className=\"form__input\"\n          placeholder=\"Set movie release year!\"\n        />\n      </label>\n\n      <label>\n        <div className=\"ui label\">\n          Format:\n        </div>\n        <Input\n          type=\"text\"\n          value={format}\n          onChange={event => setFormat(event.target.value)}\n          className=\"form__input\"\n          placeholder=\"Set movie format!\"\n        />\n      </label>\n\n      <label>\n        <div className=\"ui label\">\n          Actors:\n        </div>\n        <Input\n          type=\"text\"\n\n          value={stars}\n          onChange={event => setStars(event.target.value.split(/, |\\. |; |,|\\.|;+/g))}\n          className=\"form__input\"\n          placeholder=\"Set the lead actors!\"\n        />\n      </label>\n\n      <label>\n        <div className=\"ui label\">\n          Image:\n        </div>\n        <Input\n          type=\"text\"\n          value={image}\n          onChange={event => setImage(event.target.value)}\n          className=\"form__input\"\n          placeholder=\"Set background image!\"\n        />\n      </label>\n\n      <Button type=\"submit\" className=\"ui inverted black basic button form__button\">Add</Button>\n    </form>\n  )\n};\n","const API_URL = process.env.REACT_APP_API_URL;\nconst FILM_URL = `${API_URL}/films`;\n\nexport const getFilms = async () => {\n  const response = await fetch(FILM_URL);\n\n  return response.json();\n};\n\nexport const addFilm = async (title, year, format, stars, image) => {\n  const response = await fetch(FILM_URL, {\n    method: 'post',\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8',\n    },\n    body: JSON.stringify({ title, year, format, stars, image }),\n  });\n\n  return response.json();\n};\n\nexport const removeFilm = async (filmId) => {\n  const response = await fetch(`${FILM_URL}/${filmId}`, {\n    method: 'delete',\n  });\n\n  return response.json();\n};\n","import React from 'react';\nimport './showInfo.scss';\n\nexport const ShowInfo = ({ actualFilm }) => {\n  return (\n    <div className=\"show-info\">\n      <p>Film name: <span className=\"show-info__text\"> {actualFilm.title}</span></p>\n      <p>Year: <span className=\"show-info__text\"> {actualFilm.year}</span></p>\n      <p>Format: <span className=\"show-info__text\"> {actualFilm.format}</span></p>\n      <p>Stars: <span className=\"show-info__text\"> {actualFilm.stars && actualFilm.stars.join(', ') + '.'}</span></p>\n    </div>\n  );\n};\n","import React from 'react';\nimport {Button, Input} from \"semantic-ui-react\";\nimport {NavLink} from \"react-router-dom\";\nimport './Header.scss';\n\nexport const Header = ({ sortFilms, setForFilter, filter, resetList }) => {\n  return (\n    <div className=\"header\">\n\n      <div className=\"header__navigation\">\n        <NavLink to=\"/\" onClick={() => resetList()}>\n          <Button type=\"button\" className=\"ui inverted button\">Home</Button>\n        </NavLink>\n\n        <NavLink to=\"/add\">\n          <Button type=\"button\" className=\"ui inverted button\">\n            Add\n          </Button>\n        </NavLink>\n      </div>\n\n      <div className=\"header__changers\">\n        <Button type=\"button\" onClick={() => sortFilms()} className=\"ui inverted button\">Sort</Button>\n        <div className=\"header__changers-filters\">\n          <Input type=\"text\" onChange={(e) => setForFilter(e.target.value)} className=\"header__changers-filters1\" placeholder=\"Set filter value!\"/>\n          <select className=\"ui compact selection dropdown\">\n            <option value=\"all\">title</option>\n            <option value=\"articles\">year</option>\n            <option value=\"products\">format</option>\n            <option value=\"products\">actors</option>\n          </select>\n          <div className=\"ui inverted button header__changers-filters2\" onClick={() => filter('title')}>Filter</div>\n        </div>\n      </div>\n\n    </div>\n  );\n};\n","import React from 'react';\nimport { FilmList } from './components/FilmList';\nimport { AddFilmForm } from './components/AddFilmsForm';\nimport './App.scss';\n\nimport * as getApi from './api/getApi';\nimport { Route, Switch} from \"react-router-dom\";\nimport {ShowInfo} from \"./components/showInfo\";\nimport {Header} from \"./components/Header\";\n\n\nclass App extends React.PureComponent {\n  state = {\n    films: [],\n    forFilter: '',\n    actualFilm: '',\n    filterToShow: null,\n  };\n\n  componentDidMount() {\n    this.refreshFilms();\n  }\n\n  async refreshFilms() {\n    const films = await getApi.getFilms();\n    this.setState({ films });\n  }\n\n  addFilm = async (title, year, format, stars, image) => {\n    await getApi.addFilm(title, year, format, stars, image);\n    this.refreshFilms();\n  };\n\n  removeFilm = async (filmId) => {\n    await getApi.removeFilm(filmId);\n    this.refreshFilms();\n  };\n\n  sortFilms = () => {\n    this.setState(prevState => ({\n      ...prevState,\n      films: [...prevState.films].sort((a, b) => a.title.localeCompare(b.title))\n    }))\n  };\n\n  setForFilter = (value) => {\n    this.setState(prevState => ({\n      ...prevState,\n      forFilter: value.toLowerCase(),\n    }))\n  };\n\n  filter = (name) => {\n    let toState;\n\n    switch (name) {\n      case 'title':\n        toState = this.state.films.filter(item => item.title.toLowerCase().includes(this.state.forFilter));\n        break;\n      default:\n        return this.state\n    }\n    this.setState(prevState => ({\n      ...prevState,\n      filterToShow: toState,\n    }));\n  };\n\n  getFilmToShow = (film) => {\n    this.setState(prevState => ({\n      ...prevState,\n      actualFilm: film,\n    }))\n  };\n\n  resetList = () => {\n    this.setState(prevState => ({\n      ...prevState,\n      filterToShow: '',\n    }))\n  };\n\n  render() {\n    const { films, actualFilm, filterToShow } = this.state;\n\n    return (\n      <Switch>\n        <div className=\"App\">\n          <Header\n            filter={this.filter}\n            setForFilter={this.setForFilter}\n            sortFilms={this.sortFilms}\n            resetList={this.resetList}\n          />\n\n          <Route exact path=\"/add\">\n            <AddFilmForm addFilm={this.addFilm} />\n          </Route>\n          <Route exact path=\"/\">\n            <FilmList\n              filterToShow={filterToShow}\n              films={films}\n              removeFilm={this.removeFilm}\n              getFilmToShow={this.getFilmToShow}\n              actualFilm={actualFilm}\n            />\n          </Route>\n          <Route exact path=\"/info\">\n            <ShowInfo actualFilm={actualFilm} />\n          </Route>\n        </div>\n      </Switch>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Favicon from 'react-favicon';\nimport {HashRouter} from \"react-router-dom\";\nimport App from './App';\n\nReactDOM.render(\n<div>\n  <HashRouter>\n    <Favicon url=\"http://icons.iconarchive.com/icons/martz90/circle/16/video-camera-icon.png\" />\n    <App />\n  </HashRouter>\n</div>\n, document.getElementById('root'));\n"],"sourceRoot":""}