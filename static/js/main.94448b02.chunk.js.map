{"version":3,"sources":["components/showInfo/showInfo.js","components/FilmList/FilmList.js","components/AddFilmsForm/AddFilmsForm.js","api/getApi.js","App.js","index.js"],"names":["ShowInfo","actualFilm","className","title","year","format","stars","join","FilmList","props","getFilmToShow","film","setState","prevState","state","this","films","removeFilm","map","key","id","Button","onClick","pure","icon","Icon","name","React","PureComponent","AddFilmForm","addFilm","useState","setTitle","onSubmit","event","preventDefault","type","value","onChange","target","FILM_URL","process","getFilms","a","fetch","response","json","method","headers","body","JSON","stringify","filmId","App","forFilter","getApi","refreshFilms","sortFilms","sort","b","localeCompare","setForFilter","toLowerCase","filter","toState","item","includes","e","ReactDOM","render","url","document","getElementById"],"mappings":"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","file":"static/js/main.94448b02.chunk.js","sourcesContent":["import React from 'react';\nimport './showInfo.scss';\n\nexport const ShowInfo = ({ actualFilm }) => {\n  return (\n    <div className=\"showInfo\">\n      <p>Film name: {actualFilm.title}</p>\n      <p>Year: {actualFilm.year}</p>\n      <p>Format: {actualFilm.format}</p>\n      <p>Stars: {actualFilm.stars && actualFilm.stars.join(', ') + '.'}</p>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Button, Icon } from 'semantic-ui-react'\nimport './FilmList.scss';\nimport { ShowInfo } from '../showInfo';\n\nexport class FilmList extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      actualFilm: '',\n    }\n  }\n\n  getFilmToShow = (film) => {\n    this.setState(prevState => ({\n      ...prevState,\n      actualFilm: film,\n    }))\n  };\n\n  render() {\n    const { actualFilm } = this.state;\n    const { films, removeFilm } = this.props;\n\n    return (\n      <div>\n        <ul className=\"form__list\">\n          {films.map(film => (\n            <li key={film.id} className=\"form__film overlay blue\">\n              <label title={film.id} className=\"form__title\">\n                {film.title}\n              </label>\n              <div className=\"form__button\">\n                <Button onClick={() => removeFilm(film.id)} className=\"form__button-delete delete\" pure icon><Icon name=\"remove\" /></Button>\n                <Button onClick={() => this.getFilmToShow(film)} className=\"form__button-info info\">show info</Button>\n              </div>\n            </li>\n          ))}\n        </ul>\n        <ShowInfo actualFilm={actualFilm} />\n      </div>\n    );\n  }\n}\n","import React, { useState } from 'react';\nimport './AddFilmsForm.scss';\n\nexport const AddFilmForm = ({ addFilm }) => {\n\n  const [title, setTitle] = useState('');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (!title) {\n      return;\n    }\n\n    addFilm(title);\n    setTitle('')\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        value={title}\n        onChange={event => setTitle(event.target.value)}\n      />\n\n      <button type=\"submit\">Add</button>\n    </form>\n  )\n};\n","const API_URL = process.env.REACT_APP_API_URL;\nconst FILM_URL = `${API_URL}/films`;\n\nexport const getFilms = async () => {\n  const response = await fetch(FILM_URL);\n\n  return response.json();\n};\n\nexport const addFilm = async (title) => {\n  const response = await fetch(FILM_URL, {\n    method: 'post',\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8',\n    },\n    body: JSON.stringify({ title }),\n  });\n\n  return response.json();\n};\n\nexport const removeFilm = async (filmId) => {\n  const response = await fetch(`${FILM_URL}/${filmId}`, {\n    method: 'delete',\n  });\n\n  return response.json();\n};\n","import React from 'react';\nimport { FilmList } from './components/FilmList';\nimport { AddFilmForm } from './components/AddFilmsForm';\nimport './App.scss';\n\nimport * as getApi from './api/getApi';\n\nclass App extends React.PureComponent {\n  state = {\n    films: [],\n    forFilter: '',\n  };\n\n  componentDidMount() {\n    this.refreshFilms();\n  }\n\n  async refreshFilms() {\n    const films = await getApi.getFilms();\n    this.setState({ films });\n  }\n\n  addFilm = async (title) => {\n    await getApi.addFilm(title);\n    this.refreshFilms();\n  };\n\n  removeFilm = async (filmId) => {\n    await getApi.removeFilm(filmId);\n    this.refreshFilms();\n  };\n\n  sortFilms = () => {\n    this.setState(prevState => ({\n      ...prevState,\n      films: [...prevState.films].sort((a, b) => a.title.localeCompare(b.title))\n    }))\n  };\n\n  setForFilter = (value) => {\n    this.setState(prevState => ({\n      ...prevState,\n      forFilter: value.toLowerCase(),\n    }))\n  };\n\n  filter = (name) => {\n    let toState;\n\n    switch (name) {\n      case 'title':\n        toState = this.state.films.filter(item => item.title.toLowerCase().includes(this.state.forFilter));\n        break;\n      default:\n        return this.state\n    }\n    this.setState(prevState => ({\n      ...prevState,\n      films: toState,\n    }));\n  };\n\n  render() {\n    const { films } = this.state;\n\n    return (\n      <div className=\"App\">\n        <h1>home</h1>\n        <AddFilmForm\n          addFilm={this.addFilm}\n        />\n        <button type=\"button\" onClick={() => this.sortFilms()}>Sort</button>\n        <input type=\"text\" onChange={(e) => this.setForFilter(e.target.value)}/>\n        <button type=\"button\" onClick={() => this.filter('title')}>Filter By Title</button>\n        <FilmList\n          films={films}\n          removeFilm={this.removeFilm}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Favicon from 'react-favicon';\nimport App from './App';\n\nReactDOM.render(\n<div>\n  <Favicon url=\"http://icons.iconarchive.com/icons/martz90/circle/16/video-camera-icon.png\" />\n  <App />\n</div>\n, document.getElementById('root'));\n"],"sourceRoot":""}